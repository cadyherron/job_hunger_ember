<!-- app/templates/dashboard.hbs -->
<h4>dashboard</h4>

<div class="row">
  <div class="col-sm-12">
    <div class="panel panel-default">
      <div class="panel-heading">
          <h5 class="panel-title">Recommendations</h5>
      </div>

      <table class="dashboard-recommendation table table-striped">
        <tbody>
          {{#each model.recommendations as |recommendation| }}
            <tr>
              <form>
              <td>{{input type="checkbox" checked=recommendation.completed }}</td>
              </form>
              <td>{{ recommendation.action }}</td>
              <td>{{ recommendation.recommendable_type }}</td>
            </tr>
          {{/each }}
        </tbody>
      </table>

      <br>
    </div>
  </div>
</div>

<div class="row">
  <div class="col-sm-6">
    <div class="panel panel-default">
      <div class="panel-heading">
          <h5 class="panel-title">Companies</h5>
          {{link-to "Companies" 'companies.new'}}
      </div>

      <table class="table" style="table-layout: fixed">
        <thead>
          <tr>
            <th>Name</th>
            <th>Website</th>
            <th>Blog</th>
            <th>Remove</th>
          </tr>
        </thead>
        <tbody>
          {{#each model.companies as |company| }}
            <tr>
              <td>
                {{#link-to "companies.company" company}}
                  {{company.name}}
                {{/link-to}}
              </td>
              <td style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis"><a href={{ company.website }}>{{company.website}}</a></td>
              <td style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis"><a href={{ company.blog }}>{{company.blog}}</a></td>
              <td><button class="btn btn-danger btn-small" {{action "removeCompany" company}}>X</button></td>
            </tr>
          {{/each }}
        </tbody>
      </table>
    </div>
  </div>

  <div class="col-sm-6">
    <div class="panel panel-default">
      <div class="panel-heading">
          <h5 class="panel-title">Leads</h5>
          {{link-to "Add Lead" 'leads.new'}}
      </div>

      <div class="panel-body">
        <table class='table' style="table-layout: fixed">
          <thead>
            <tr>
              <th>Name</th>
              <th>Blog</th>
              <th>Other</th>
              <th>Contacted?</th>
              <th>Remove</th>
            </tr>
          </thead>
          <tbody>
            {{#each model.leads as |lead| }}
              <tr>
                <td >
                  {{#link-to "leads.lead" lead}}
                    {{lead.name}}
                  {{/link-to}}
                </td>
                <td style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis"><a href={{ lead.blog }}>{{lead.blog}}</a></td>
                <td style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis"><a href={{ lead.linked_in }}>{{lead.linked_in}}</a></td>
                <td>Yes</td>
                <td><button class="btn btn-danger btn-small" {{action "removeLead" lead}}>X</button></td>
              </tr>
            {{/each }}
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>

<div class="row">
  <div class="col-sm-12">
    <div class="panel panel-default">
      <div class="panel-heading">
          <h5 class="panel-title">Jobs</h5>
          {{link-to "Add Job" 'jobs.new'}}
      </div>

      <table class="table">
        <thead>
          <tr>
            <th>Position</th>
            <th>Application Status</th>
          </tr>
        </thead>
        <tbody>
          {{#each model.jobs as |job| }}
            <tr>
              <td>{{ job.title }}</td>
              <td>{{ job.application_status }}</td>
              <td><button class="btn btn-danger btn-small" {{action "removeLead" job}}>X</button></td>
            </tr>
          {{/each }}
        </tbody>
      </table>
    </div>
  </div>

</div>

{{outlet}}
